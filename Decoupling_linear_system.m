close all;
syms m g Ct rho D
w_hover = sqrt((m*g)/(4*Ct*rho*D^4));

A = [       0    1.0000         0         0         0         0         0         0         0         0         0         0;
            0         0         0         0         0         0         0         0         0         0         0         0;
            0         0         0    1.0000         0         0         0         0         0         0         0         0;
            0         0         0         0         0         0         0         0         0         0         0         0;
            0         0         0         0         0    1.0000         0         0         0         0         0         0;
            0         0         0         0         0         0         0         0         0         0         0         0;
            0         0         0         0         0         0         0    1.0000         0         0         0         0;
            0         0         0         0         0         0         0         0         0         0         0         0;
            0         0         0         0         0         0         0         0         0    1.0000         0         0;
            0         0   -9.8100         0         0         0         0         0         0         0         0         0;
            0         0         0         0         0         0         0         0         0         0         0    1.0000;
            0         0         0         0    9.8100         0         0         0         0         0         0         0];

B = w_hover*(8*Ct*rho*D^4)*[ 0 0 0 0; 
                            -1/m 0 0 0; 
                             0 0 0 0; 
                             0 b/Jyy 0 0; 
                             0 0 0 0; 
                             0 0 b/Jxx 0; 
                             0 0 0 0; 
                             0 0 0 -b/Jzz; 
                             0 0 0 0; 
                             0 0 0 0; 
                             0 0 0 0; 
                             0 0 0 0];
                         

                            
C = [  -1 0 0 0 0 0 0 0 0 0 0 0;
        0 0 0 0 0 0 0 0 0 0 0 0;
        0 0 0 0 0 0 0 0 0 0 0 0;
        0 0 0 0 0 0 0 0 0 0 0 0];


D = -(8*Ct*D^4*rho*(w_hover))/m*[   0 0 0 0;
                                    0 0 0 0;
                                    0 0 0 0;
                                    1 0 0 0];
   
                                
                                

A_throttle = A(1:2,1:2)
           
B_throttle = B(1:2,1)



A_elevator = [A(3:4,3:4)  A(3:4,9:10); A(9:10,3:4) A(9:10,9:10)]
           
B_elevator = [B(3:4,2) ; B(9:10,2)]



A_aileron = [A(5:6,5:6) A(5:6,11:12); A(11:12,5:6) A(11:12,11:12)]
           
B_aileron = [B(5:6,3) ; B(11:12,3)]



A_rudder = A(7:8,7:8)
           
B_rudder = B(7:8,4)
